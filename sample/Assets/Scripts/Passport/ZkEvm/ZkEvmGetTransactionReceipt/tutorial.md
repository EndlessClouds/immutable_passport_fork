<div class="display-none">

# ZkEvm Get Transaction Receipt

</div>

The Immutable Passport SDK provides functionality to retrieve transaction receipts from the Immutable zkEVM blockchain. This feature allows developers to check the status of a transaction to determine if it has been processed successfully, failed, or is still pending.

<div class="button-component">

[View feature on Github](https://github.com/immutable/unity-immutable-sdk/tree/main/sample/Assets/Scripts/Passport/ZkEvm/ZkEvmGetTransactionReceipt) <span class="button-component-arrow">â†’</span>

</div>

## Feature Overview

The ZkEvmGetTransactionReceipt feature demonstrates how to use the Immutable Passport SDK to retrieve the receipt of a transaction on the Immutable zkEVM blockchain using a transaction hash.

## SDK Integration Details

This feature demonstrates how to retrieve a transaction receipt from the Immutable zkEVM blockchain using the Passport SDK. To implement this functionality, you need to:

1. Ensure that the user is connected to zkEVM
2. Call the ZkEvmGetTransactionReceipt method with the transaction hash
3. Process the transaction receipt response

```csharp title="ZkEvmGetTransactionReceiptScript" manualLink="https://github.com/immutable/unity-immutable-sdk/blob/main/sample/Assets/Scripts/Passport/ZkEvm/ZkEvmGetTransactionReceipt/ZkEvmGetTransactionReceiptScript.cs"
private async UniTaskVoid GetZkEvmTransactionReceiptAsync()
{
    if (Passport.Instance == null)
    {
        ShowOutput("Passport instance is null");
        return;
    }
    ShowOutput("Getting transaction receipt...");
    try
    {
        await Passport.Instance.ConnectEvm();
        TransactionReceiptResponse response = await Passport.Instance.ZkEvmGetTransactionReceipt(TransactionHash.text);
        string status = $"Status: {GetTransactionStatusString(response.status)}";
        ShowOutput(status);
    }
    catch (System.Exception ex)
    {
        ShowOutput($"Failed to retrieve transaction receipt: {ex.Message}");
    }
}

private string GetTransactionStatusString(string status)
{
    switch (status)
    {
        case "1":
        case "0x1":
            return "Success";
        case "0":
        case "0x0":
            return "Failed";
        case null:
            return "Still processing";
        default:
            return "Unknown status";
    }
}
```

The example above demonstrates the following steps:

1. First, we call `ConnectEvm()` to ensure the user is connected to the zkEVM network.
2. Then, we call `ZkEvmGetTransactionReceipt(txHash)` with the transaction hash to retrieve the transaction receipt.
3. The response contains a status field that indicates whether the transaction was successful, failed, or is still processing.
4. We interpret the status code using a helper method that converts the raw status code to a human-readable string.

The `TransactionReceiptResponse` object provides comprehensive information about the transaction, including:
- Transaction status (success, failure, or processing)
- Block information (hash, number)
- Gas usage information
- Transaction details (hash, index, etc.)
- Logs generated by the transaction

## Running the Feature Example

### Prerequisites

- A Unity project with Immutable Passport SDK installed
- An Immutable Hub account and configured environment. [Sign up here](https://hub.immutable.com/) if you don't have one.
- A valid transaction hash from a previously executed transaction on Immutable zkEVM

### Step-by-step Instructions

1. Open the Unity Editor with the Immutable SDK sample project
2. Ensure you're logged in to Passport through the sample app
3. Navigate to the ZkEvmGetTransactionReceipt scene
4. Enter a valid transaction hash in the input field
5. Click the "Get Transaction Receipt" button
6. The status of the transaction will be displayed in the output field

## Summary

The ZkEvmGetTransactionReceipt feature provides a simple way to check the status of a transaction on the Immutable zkEVM blockchain. It allows developers to determine if a transaction has been successfully processed, failed, or is still pending, which is essential for providing feedback to users in applications that involve blockchain transactions. 